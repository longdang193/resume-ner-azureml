[pytest]
# Pytest configuration file
# Note: YAML test configurations in config/test/ are loaded via tests/pytest_configure.py
# The pytest_configure hook automatically loads settings from:
#   - config/test/execution.yaml (coverage thresholds, markers, performance)
#   - config/test/environments.yaml (environment-specific settings)
#   - config/test/fixtures.yaml (test data fixtures)
#   - config/test/mocks.yaml (mock component settings)

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths = tests

# Plugins (pytest_configure.py hooks are auto-discovered)
# Ensure tests/pytest_configure.py is in Python path

# Output options
# Note: These may be overridden by YAML config (config/test/environments.yaml)
addopts = 
    -v
    --strict-markers
    --tb=short
    --disable-warnings

# Markers (loaded from config/test/execution.yaml)
# Base markers defined here, additional markers added by pytest_configure.py
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, may require external resources)
    slow: Slow tests that take significant time

# Coverage options (when using pytest-cov)
# Thresholds are loaded from config/test/execution.yaml via pytest_configure.py
# To run with coverage: pytest --cov=src --cov-report=term-missing --cov-report=html
# Coverage thresholds are enforced via --cov-fail-under (set from YAML config)
# Overall threshold: 80% (from execution.yaml)
# Module thresholds: See config/test/execution.yaml for per-module targets

